{% extends "MiddleDisplayObject.htm" %}
{% load i18n %}

<!-- Manage html display in the Content div which correspond to the "children" menu -->

{% block content %}
<form method="POST" action="">
    {{ children_formset.management_form }}
    <table class="Content">
        <tr>
            <th class="Content">{% trans "Order" %}</th>
            <th class="Content">{% trans "Quantity" %} </th>
            <th class="Content"> {{ obj.reference }} </th>
            <th class="Content"> {{ obj.revision }} </th>
            <th class="Content"> {{ obj.type }} </th>
            <th class="Content"> {{ obj.name }} </th>
            <th class="Content"> {{ obj.state.name }} </th>
            <th class="Content"> {% trans "Delete ?" %} </th>
        </tr>
        {% for form in children_formset.forms %}
            {{ form.id }}
            {{ form.parent }}
            {{ form.child }}
            <tr class="Content"> 
                <td class="Content"> {{ form.order }} </td>
                <td class="Content"> {{ form.quantity }} </td>
                <td class="Content"> 
                    <a href="{{form.instance.child.plmobject_url}}">
                        {{ form.instance.child.reference }}
                    </a>
                </td>
                <td class="Content"> {{ form.instance.child.revision }} </td>
                <td class="Content"> {{ form.instance.child.type }} </td>
                <td class="Content"> {{ form.instance.child.name }} </td>
                <td class="Content"> {{ form.instance.child.state.name }} </td>
                <td class="Content"> {{ form.delete }} </td>
            </tr>
        {% endfor %}
    </table>
    <input type="submit" value={% trans "Validate" %} name="action"/>
    <input type="submit" value={% trans "Undo" %} name="action"/>
</form>
{% endblock %}


