{% extends "MiddleDisplayObject.htm" %}
{% load i18n %}

<!-- Manage html display in the Content div which correspond to the "children" menu -->

{% block content %}
    {% if is_owner and obj.is_editable %}
        <span class="ButtonLeft">
                <a class="Button" href="./add/">{% trans "ADD" %}</a>
        </span>
        <span class="ButtonLeft">
                <a class="Button" href="./edit/">{% trans "EDIT" %}</a>
        </span>
    {% endif %}
    <form method="GET" action="">
        {% trans "Display :" %}
        <ul>
            {{display_form.as_ul}}
        </ul>
        <input type="submit" value="{% trans "GO !" %}"/>
    </form>
    <table class="Result">
        <tr>
            <th class="Content" style="width:50px"> </th>
            <th class="Content" style="width:50px"> {% trans "Ord." %} </th>
            <th class="Content" style="width:50px"> {% trans "Qty" %}</th>
            <th class="Content"> {{ obj.reference }} </th>
            <th class="Content"> {{ obj.revision }} </th>
            <th class="Content"> {{ obj.type }} </th>
            <th class="Content"> {{ obj.name }} </th>
            <th class="Content"> {{ obj.state.name }} </th>
        </tr>
        {% for level, link in children %}
            <tr class="Content"> 
                <td class="Content">{{ level|safe}} â†³</td>
                <td class="Content"> {{ link.order }} </td>
                <td class="Content"> {{ link.quantity }} </td>
                <td class="Content"> 
                    <a href="/object/{{link.child.type}}/{{link.child.reference}}/{{link.child.revision}}/">
                        {{ link.child.reference }}
                    </a>
                </td>
                <td class="Content"> {{ link.child.revision }} </td>
                <td class="Content"> {{ link.child.type }} </td>
                <td class="Content"> {{ link.child.name }} </td>
                <td class="Content"> {{ link.child.state.name }} </td>
            </tr>
        {% endfor %}
	</table>
{% endblock %}


